nombres <- read.csv("I:/Trabajo/Proyectos/Coincidencias/Culture/Impresionismo/nombres")
View(nombres)
nombres <- read.csv("I:/Trabajo/Proyectos/Coincidencias/Culture/Impresionismo/nombres", header=FALSE)
View(nombres)
?read.csv
?readLines
?scan
names <- scan("names")
names <- scan("nombres")
names <- readLines("nombres")
names
library(netCoin)
library(wikiTools)
?getWikiInf
baseQ <- getWikiInf(names)
baseQ
base <- w_EntityInfo(base0$Q)
base <- w_EntityInfo(baseQ$Q)
View(base)
?w_EntityInfo
base <- w_EntityInfo(baseQ$Q, langsorder="es|en|fr", wikilangs="es|en|fr")
View(base)
base <- w_EntityInfo(baseQ$Q, langsorder="es|en|fr", wikilangs="es|en|fr")
base <- w_EntityInfo(baseQ$Q, langsorder="es", wikilangs="es")
?getFiles
input <- data.frame(name=base$Q, url=base$pic)
names(base)
input <- data.frame(name=base$entity, url=base$pic)
input
getFiles(input, path="imgs", ext="jpg")
?exhibit
?`netCoin-package`
library(netCoin)
library(wikiTools)
names <- readLines("nombres")
baseQ <- getWikiInf(names)
base <- w_EntityInfo(baseQ$Q, langsorder="es", wikilangs="es")
input <- data.frame(name=base$entity, url=base$pic)
getFiles(input, path="imgs", ext="jpg")
?exhibit
base$image=paste0("imgs/",entity,".jpg")
base$image=paste0("imgs/",base$entity,".jpg")
names(base)
base$image <- paste0("imgs/",base$entity,".jpg")
base$image <- NULL
base$image <- paste0("imgs/",base$entity,".jpg")
library(netCoin)
library(wikiTools)
names <- readLines("nombres")
baseQ <- getWikiInf(names)
base <- w_EntityInfo(baseQ$Q, langsorder="es", wikilangs="es")
input <- data.frame(name=base$entity, url=base$pic)
base$image <- paste0("imgs/",base$entity,".jpg")
getFiles(input, path="imgs", ext="jpg")
base$image <- paste0("imgs/",base$entity,".jpg")
library(tidyverse)
base |> as:tibble()
base |> as_tibble()
base$xx <- paste0("imgs/",base$entity,".jpg")
base$xx
base <- w_EntityInfo(baseQ$Q, langsorder="es", wikilangs="es")
library(netCoin)
library(wikiTools)
names <- readLines("nombres")
baseQ <- getWikiInf(names)
base <- w_EntityInfo(baseQ$Q, langsorder="es", wikilangs="es")
input <- data.frame(name=base$entity, url=base$pic)
base$image <- paste0("imgs/",base$entity,".jpg")
base$image
base$image <- NULL
base$image <- paste0("imgs/",base$entity,".jpg")
base$image <- NULL
exhibit(base, image="image")
exhibit(base, name="label", image="image")
?exhibit
exhibit(base, name="label", image="image") |> plot(dir=~/temp)
exhibit(base, name="label", image="image") |> plot(dir="~/temp")
base$image <- paste0("imgs/",base$entity,".jpg")
exhibit(base, name="label", image="image") |> plot(dir="~/temp")
?get_template2
base$ventana <- get_template2(base, title="label", text="desciption")
base$ventana <- get_template2(base, title="label", text="description")
exhibit(base, name="label", ntext="ventana", image="image") |> plot(dir="~/temp")
library(netCoin)
library(wikiTools)
names <- readLines("nombres")
baseQ <- getWikiInf(names)
base <- w_EntityInfo(baseQ$Q, langsorder="es", wikilangs="es")
input <- data.frame(name=base$entity, url=base$pic)
getFiles(input, path="imgs", ext="jpg")
base$image <- paste0("imgs/",base$entity,".jpg")
base$ventana <- get_template2(base, title="label", text="description")
exhibit(base, name="label", ntext="ventana", image="image") |> plot(dir="~/temp")
exhibit(base, name="label", ntext="ventana", image="image") |> plot(dir="~/temp")
base$image <- paste0("imgs/",base$entity,".jpg")
library(netCoin)
library(wikiTools)
names <- readLines("nombres")
baseQ <- getWikiInf(names)
base <- w_EntityInfo(baseQ$Q, langsorder="es", wikilangs="es")
input <- data.frame(name=base$entity, url=base$pic)
base$image <- paste0("imgs/",base$entity,".jpg")
base$ventana <- get_template2(base, title="label", text="description")
exhibit(base, name="label", ntext="ventana", image="image") |> plot(dir="~/temp")
base[,1:5]
#### Modesto Escobar
# Sun Feb 23 20:34:03 2025 ------------------------------
# Recodifica
library("readxl")
M <- base
p <- as.data.frame(read_excel("OcupacionesI.xlsx", sheet="Ocupaciones"))
p <- p[!is.na(p$categoría),] # Evita NA
p <- as.data.frame(read_excel("OcupacionesI.xlsx", sheet="Ocupaciones"))
#### Modesto Escobar
# Sun Feb 23 20:34:03 2025 ------------------------------
# Recodifica
library("readxl")
p <- as.data.frame(read_excel("OcupacionesI.xlsx", sheet="Ocupaciones"))
p <- p[!is.na(p$categoría),] # Evita NA
p <- p[!is.na(p$categoría),] # Evita NA
cates <- names(table(p$categoría))
changes <-list()
M$Ocupación <- tolower(M$occupation)
cates
for(i in cates[c(3, 2, 4, 6, 5, 1, 8, 7)]){
changes[[i]]  <- p[p$categoría==i, "ocupación"]
for(j in 1:nrow(M)) {
x <- unlist(strsplit(M$Ocupación[j],"\\|"))
if(length(intersect(x, changes[[i]]))>0) M$disc[j] <- paste0(M$disc[j], "|", i)
}
}
M$disciplina <- sub("^\\|","", M$disc)
if(exists("base")) base$Disciplina <- M$disciplina
tabla(M$disciplina)
table(M$disciplina)
if(exists("base")) base$Disciplina <- M$disciplina
names(M)
base$Disciplina <- M$disciplina
names(M)
rm(list=ls())
library(netCoin)
library(wikiTools)
names <- readLines("nombres")
baseQ <- getWikiInf(names)
base <- w_EntityInfo(baseQ$Q, langsorder="es", wikilangs="es")
# input <- data.frame(name=base$entity, url=base$pic)
# getFiles(input, path="imgs", ext="jpg")
base$image <- paste0("imgs/",base$entity,".jpg")
base$ventana <- get_template2(base, title="label", text="description")
library("readxl")
M <- base
p <- as.data.frame(read_excel("OcupacionesI.xlsx", sheet="Ocupaciones"))
p <- p[!is.na(p$categoría),] # Evita NA
cates <- names(table(p$categoría))
changes <-list()
M$Ocupación <- tolower(M$occupation)
for(i in cates[c(3, 2, 4, 6, 5, 1, 8, 7)]){
changes[[i]]  <- p[p$categoría==i, "ocupación"]
for(j in 1:nrow(M)) {
x <- unlist(strsplit(M$Ocupación[j],"\\|"))
if(length(intersect(x, changes[[i]]))>0) M$disc[j] <- paste0(M$disc[j], "|", i)
}
}
M$disciplina <- sub("^\\|","", M$disc)
if(exists("base")) base$Disciplina <- M$disciplina
M$disciplina
M[, c("occupation", disciplina)]
M[, c("occupation", "disciplina")]
head(p)
changes
x
names(changes)
x
debugSource("I:/Trabajo/Proyectos/Coincidencias/Culture/Impresionismo/RecodeDisciplinas.R")
i
j
x
M$disc[1]
M$disc[1]
x
M$disc[1]
M$disc[1]
j
x
M$disc[3]
j
M$disc[3]
j
M$disc[3]
j
x
M$disc[3]
q
y
q
q
q
q
q
q
q
q
q
q
q
q
q
q
q
q
q
q
e
q
q
q
q
q
q
q
q
q
